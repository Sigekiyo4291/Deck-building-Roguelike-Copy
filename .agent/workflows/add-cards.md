---
description: Wikiからカードデータを調査し、強化データ（Upgrade）を含めてライブラリに追加する手順
---

# カードデータ追加ワークフロー

新しいカードを導入したり、既存のカードを正確なデータに更新したりする際は、以下のステップを順に実行してください。

1. **Wiki調査**
   // turbo
   `browser_subagent` を使用して、指定されたカードの基本データ（コスト、タイプ、レアリティ、ダメージ/ブロック、効果）および強化後のデータを調査します。
   - 参照先: [Slay the Spire Wiki (Ironclad)](https://wikiwiki.jp/slaythespire/%E3%82%A2%E3%82%A4%E3%82%A2%E3%83%B3%E3%82%AF%E3%83%A9%E3%83%83%E3%83%89%E3%81%AE%E3%82%AB%E3%83%BC%E3%83%89%E4%B8%80%E8%A6%A7)

2. **CardLibraryの更新**
   `src/core/card.js` の `CardLibrary` に調査結果を反映します。
   - `upgradeData` オブジェクトに、強化後の説明文（`description`）と効果を定義した関数（`effect`）を必ず含めてください。

3. **メカニクスの実装（必要な場合）**
   カードが新しい状態異常（例：毒、脱力、トゲ）を扱う場合、以下の修正を行います。
   - `src/core/entity.js`: ダメージ計算やHP減少のロジックを更新。
   - `src/core/engine.js`: ターン開始/終了時の自動処理を追加。

4. **動作確認**
   - 休憩所の「鍛える」でカードが強化されるか。
   - 戦闘中に強化後の数値・効果が正しく適用されるか。
   - 戦闘終了後にステータス（筋力、悪魔化等）がリセットされるか。
