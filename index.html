<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Card Crawler Web</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,700;1,400&display=swap"
    rel="stylesheet">
</head>

<body>
  <div id="app">
    <div class="battle-scene">
      <!-- プレイヤー -->
      <div id="player" class="entity">
        <div class="intent-icon" style="display: none;"></div>
        <img src="/src/assets/player.png" alt="Player" class="entity-sprite" />
        <div class="entity-info">
          <div class="hp-bar-container">
            <div id="player-hp-fill" class="hp-bar-fill" style="width: 100%;"></div>
            <div id="player-block" class="block-overlay" style="width: 0%;"></div>
          </div>
          <div class="status-text">
            <span id="player-hp-text">50 / 50</span>
            <span id="player-block-text" class="block-text" style="display: none;">🛡️0</span>
          </div>
        </div>
      </div>

      <!-- 敵 -->
      <div id="enemy" class="entity">
        <div id="enemy-intent" class="intent-icon">🗡️8</div>
        <img src="/src/assets/slime.png" alt="Enemy" class="entity-sprite" />
        <div class="entity-info">
          <div class="hp-bar-container">
            <div id="enemy-hp-fill" class="hp-bar-fill" style="width: 100%;"></div>
            <div id="enemy-block" class="block-overlay" style="width: 0%;"></div>
          </div>
          <div class="status-text">
            <span id="enemy-hp-text">40 / 40</span>
            <span id="enemy-block-text" class="block-text" style="display: none;">🛡️0</span>
          </div>
        </div>
      </div>
    </div>

    <div id="map-scene" class="scene" style="display: none;">
      <h2 class="scene-title">マップ選択</h2>
      <div id="map-container" class="map-container">
        <!-- マップノードがここに生成されます -->
      </div>
    </div>

    <div id="reward-scene" class="scene" style="display: none;">
      <h2 class="scene-title">勝利！</h2>
      <div id="reward-list" class="reward-list">
        <!-- 報酬アイテムがここに生成されます -->
      </div>
      <button id="reward-done-btn" class="end-turn-btn" style="margin-top: 20px;">次へ</button>
    </div>

    <div id="card-reward-overlay" class="overlay" style="display: none;">
      <div class="card-reward-container">
        <h2>カードを選択</h2>
        <div id="card-choices" class="card-choices">
          <!-- カード候補 -->
        </div>
        <button id="skip-card-btn" class="end-turn-btn" style="margin-top: 20px;">スキップ</button>
      </div>
    </div>

    <div class="ui-layer">
      <div class="deck-info">
        <div class="deck-pile">
          <span class="pile-label">山札</span>
          <span id="deck-count" class="pile-count">10</span>
        </div>
        <div class="energy-display">エネルギー: <span id="energy-value">3</span> / 3</div>
        <div class="discard-pile">
          <span class="pile-label">捨て札</span>
          <span id="discard-count" class="pile-count">0</span>
        </div>
      </div>
      <div class="hand-and-button-container">
        <div id="hand" class="hand">
          <!-- カードがここに動的に生成される -->
        </div>
        <button id="end-turn-btn" class="end-turn-btn">Turn End</button>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>